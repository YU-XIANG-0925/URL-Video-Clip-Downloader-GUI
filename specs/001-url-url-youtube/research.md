# 研究：多格式影片片段下載器

## 決策

- **虛擬環境與套件管理**: `uv`
- **GUI**: `Tkinter`
- **影片下載與處理**: `FFmpeg` (透過 `subprocess`) 和 `yt-dlp`

## 理由

此技術堆疊由使用者在初始請求中指定。選擇的工具都是其領域中的成熟且高效能的選項。

- `uv`: 一個現代且快速的 Python 套件安裝程式和解析器，旨在作為 `pip` 和 `pip-tools` 的直接替代品。
- `Tkinter`: Python 的標準 GUI 函式庫，適合快速開發簡單的桌面應用程式。
- `FFmpeg`: 一個領先的多媒體框架，能夠解碼、編碼、轉碼、混合、解混合、串流、過濾和播放幾乎所有人類和機器創建的多媒體檔案。
- `yt-dlp`: 一個 `youtube-dl` 的分支，專注於增加新功能和修補程式。

## 考慮過的替代方案

由於技術堆疊已由使用者指定，因此未考慮其他替代方案。

## 最佳實踐

- **Tkinter**: 為了保持 UI 的回應性，所有長時間執行的任務 (如下載和處理影片) 都應該在單獨的執行緒中運行，而不是在主 UI 執行緒中。
- **yt-dlp**: 應該作為一個 Python 模組直接匯入和使用，而不是透過 `subprocess` 呼叫，這樣可以更好地控制和取得輸出。
- **FFmpeg**: 當需要 `yt-dlp` 不支援的特定剪輯或轉碼選項時，可以透過 `subprocess` 呼叫 `FFmpeg`。
- **錯誤處理**: 應該實施穩健的錯誤處理，以處理無效的 URL、網路問題和 `FFmpeg`/`yt-dlp` 執行期間的錯誤。
- **套件管理**: `uv` 將用於在 `venv` 虛擬環境中安裝和管理 `yt-dlp` 等套件。
